<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no minimum-scale=1'>
  <title>TLDR Dev Notes</title>
  <link rel='stylesheet' href='/css/main.css'> 
  <link rel="stylesheet" href="/prism/prism.css">
</head>
<body>

  
<header id="header">
  <div id="logo">
    <h1>TLDR Dev Notes</h1>
  </div>

  <nav id="main-nav">
    
      
        <a href="/">Home</a>
      
        <a href="/about/">About</a>
      
        <a href="/contact/">Contact</a>
      
        <a href="/quotes/">Quotes</a>
      
        <a href="/resources/">Resources</a>
      
        <a href="/progress/">What i did</a>
      
    
  </nav>

</header>


  
  <div id="sidebar">
  <h6>Sections</h6>
  
  <ul id="list-sections">
    
      <li><a href="/api/">
        
        APIs
        </a></li>
    
      <li><a href="/aws/">
        
        Amazon Web Services (AWS)
        </a></li>
    
      <li><a href="/bash-scripting/">
        
        Bash Scripting
        </a></li>
    
      <li><a href="/css-sass/">
        
        CSS &amp; Sass
        </a></li>
    
      <li><a href="/cheatsheets/">
        
        Cheatsheets
        </a></li>
    
      <li><a href="/commands/">
        
        Commands
        </a></li>
    
      <li><a href="/databases/">
        
        Databases
        </a></li>
    
      <li><a href="/drafts/">
        
        Drafts
        </a></li>
    
      <li><a href="/git-github/">
        
        Git &amp; Github
        </a></li>
    
      <li><a href="/javascript/">
        
        JavaScript
        </a></li>
    
      <li><a href="/jekyll/">
        
        Jekyll
        </a></li>
    
      <li><a href="/linux/">
        
        Linux
        </a></li>
    
      <li><a href="/misc/">
        
        Misc
        </a></li>
    
      <li><a href="/node-api/">
        
        Node-api
        </a></li>
    
      <li><a href="/nodejs/">
        
        Node.js
        </a></li>
    
      <li><a href="/opencart/">
        
        OpenCart
        </a></li>
    
      <li><a href="/php/">
        
        PHP
        </a></li>
    
      <li><a href="/programming/">
        
        Programming
        </a></li>
    
      <li><a href="/python/">
        
        Python
        </a></li>
    
      <li><a href="/quotes/">
        
        Quotes
        </a></li>
    
      <li><a href="/raspberrypi/">
        
        Raspberry Pi
        </a></li>
    
      <li><a href="/reactjs/">
        
        Reactjs
        </a></li>
    
      <li><a href="/redux/">
        
        Redux
        </a></li>
    
      <li><a href="/resources/">
        
        Resources
        </a></li>
    
      <li><a href="/sysadmin/">
        
        System Administration
        </a></li>
    
      <li><a href="/webdev/">
        
        Web Development
        </a></li>
    
      <li><a href="/workflow/">
        
        Workflow
        </a></li>
    
      <li><a href="/ios-swift/">
        
        iOS &amp; Swift
        </a></li>
    
        </ul>

  
  <section>
    <h6>Tags</h6>
    
      <a href="/tags/amazon-rds">amazon-rds</a>, 
    
      <a href="/tags/amazon-s3">amazon-s3</a>, 
    
      <a href="/tags/api">api</a>, 
    
      <a href="/tags/array-methods">array-methods</a>, 
    
      <a href="/tags/aws">aws</a>, 
    
      <a href="/tags/babel">babel</a>, 
    
      <a href="/tags/backups">backups</a>, 
    
      <a href="/tags/bash">bash</a>, 
    
      <a href="/tags/basics">basics</a>, 
    
      <a href="/tags/bluetooth">bluetooth</a>, 
    
      <a href="/tags/cheatsheet">cheatsheet</a>, 
    
      <a href="/tags/cli">cli</a>, 
    
      <a href="/tags/commands">commands</a>, 
    
      <a href="/tags/compass">compass</a>, 
    
      <a href="/tags/concepts">concepts</a>, 
    
      <a href="/tags/coreblueooth">coreblueooth</a>, 
    
      <a href="/tags/crontab">crontab</a>, 
    
      <a href="/tags/css">css</a>, 
    
      <a href="/tags/database">database</a>, 
    
      <a href="/tags/databases">databases</a>, 
    
      <a href="/tags/date">date</a>, 
    
      <a href="/tags/debian">debian</a>, 
    
      <a href="/tags/editor">editor</a>, 
    
      <a href="/tags/education">education</a>, 
    
      <a href="/tags/es2015">es2015</a>, 
    
      <a href="/tags/firebase">firebase</a>, 
    
      <a href="/tags/format">format</a>, 
    
      <a href="/tags/free">free</a>, 
    
      <a href="/tags/fundamentals">fundamentals</a>, 
    
      <a href="/tags/getting-started">getting-started</a>, 
    
      <a href="/tags/git">git</a>, 
    
      <a href="/tags/github-pages">github-pages</a>, 
    
      <a href="/tags/guides">guides</a>, 
    
      <a href="/tags/hacking">hacking</a>, 
    
      <a href="/tags/hosting">hosting</a>, 
    
      <a href="/tags/how-to">how-to</a>, 
    
      <a href="/tags/hugo">hugo</a>, 
    
      <a href="/tags/ios">ios</a>, 
    
      <a href="/tags/javascript">javascript</a>, 
    
      <a href="/tags/jekyll">jekyll</a>, 
    
      <a href="/tags/js">js</a>, 
    
      <a href="/tags/keychain">keychain</a>, 
    
      <a href="/tags/lamp">lamp</a>, 
    
      <a href="/tags/lfs">lfs</a>, 
    
      <a href="/tags/linux">linux</a>, 
    
      <a href="/tags/macos">macos</a>, 
    
      <a href="/tags/markdown">markdown</a>, 
    
      <a href="/tags/media-queries">media-queries</a>, 
    
      <a href="/tags/mongodb">mongodb</a>, 
    
      <a href="/tags/mysql">mysql</a>, 
    
      <a href="/tags/nagios">nagios</a>, 
    
      <a href="/tags/node">node</a>, 
    
      <a href="/tags/nodejs">nodejs</a>, 
    
      <a href="/tags/npm">npm</a>, 
    
      <a href="/tags/opencart">opencart</a>, 
    
      <a href="/tags/phpmyadmin">phpmyadmin</a>, 
    
      <a href="/tags/programming">programming</a>, 
    
      <a href="/tags/python">python</a>, 
    
      <a href="/tags/raspberry-pi">raspberry-pi</a>, 
    
      <a href="/tags/react">react</a>, 
    
      <a href="/tags/react-router">react-router</a>, 
    
      <a href="/tags/reactjs">reactjs</a>, 
    
      <a href="/tags/redux">redux</a>, 
    
      <a href="/tags/s3">s3</a>, 
    
      <a href="/tags/sass">sass</a>, 
    
      <a href="/tags/script">script</a>, 
    
      <a href="/tags/scripts">scripts</a>, 
    
      <a href="/tags/snippets">snippets</a>, 
    
      <a href="/tags/sql">sql</a>, 
    
      <a href="/tags/ssh">ssh</a>, 
    
      <a href="/tags/steganography">steganography</a>, 
    
      <a href="/tags/sublime-text">sublime-text</a>, 
    
      <a href="/tags/sync">sync</a>, 
    
      <a href="/tags/sysadmin">sysadmin</a>, 
    
      <a href="/tags/system-management">system-management</a>, 
    
      <a href="/tags/table">table</a>, 
    
      <a href="/tags/terminal">terminal</a>, 
    
      <a href="/tags/ubuntu">ubuntu</a>, 
    
      <a href="/tags/wifi">wifi</a>, 
    
      <a href="/tags/wordpress">wordpress</a>, 
    
      <a href="/tags/workflow">workflow</a>, 
    
  </section>

  <section>
    <h6>Most Used Tags</h6>
    
      <a href="/tags/linux">linux</a>,
    
      <a href="/tags/es2015">es2015</a>,
    
      <a href="/tags/how-to">how-to</a>,
    
      <a href="/tags/array-methods">array-methods</a>,
    
      <a href="/tags/bash">bash</a>,
    
      <a href="/tags/commands">commands</a>,
    
      <a href="/tags/cheatsheet">cheatsheet</a>,
    
      <a href="/tags/concepts">concepts</a>,
    
      <a href="/tags/mysql">mysql</a>,
    
      <a href="/tags/free">free</a>,
    
      <a href="/tags/sass">sass</a>,
    
      <a href="/tags/compass">compass</a>,
    
      <a href="/tags/python">python</a>,
    
      <a href="/tags/backups">backups</a>,
    
      <a href="/tags/editor">editor</a>,
    
      <a href="/tags/hugo">hugo</a>,
    
      <a href="/tags/opencart">opencart</a>,
    
      <a href="/tags/raspberry-pi">raspberry-pi</a>,
    
      <a href="/tags/basics">basics</a>,
    
      <a href="/tags/database">database</a>,
    
  </section>


</div>


  
  <div id="main">


<h1 class="post_title">[tar] Compressed Archives</h1>


<div class="post_meta">
  
    
    
  
    
    
    
      <div class="meta_date"><strong>Last updated on:</strong> Nov 22, 2015</div>
    
  
    
    
    <div class="meta_section"><strong>Section:</strong> 
      
        <a href="/commands">Commands</a>
          
    </div>


    
    
  
  </div>



<div class="content">
    

<p><code>tar</code> creates a compressed archive. the file extension of the resulting archive is <code>.tar</code> and the tar archives are called <code>tarballs</code>..</p>

<blockquote>
<p>GNU ‘tar’ saves many files together into a single tape or disk archive, and can restore individual files from the archive.</p>
</blockquote>

<p>A <code>.tar</code> file is an archive, but it&rsquo;s not compressed. <code>.tar.gz</code> is a an archive that is compressed.</p>

<h2 id="flags">Flags</h2>

<ul>
<li><code>c</code> is for create, &ndash;create a new archive</li>
<li><code>v</code> is for &ndash;verbose, verbosely list files processed, list out files as they are added to the archive</li>
<li><code>f</code> is for &ndash;file=ARCHIVE, use archive file or device ARCHIVE, basically, specify the tar file that you wanna create. Since <code>f</code> lets you take an input it should always be the last flag..</li>
</ul>

<p><code>tar</code> can also work off of STDIN and STDOUT, <code>f</code> lets you specify if you wanna work with an existing tar file or if you wanna create one.</p>

<ul>
<li><code>z</code> is for compression, &ndash;compress (gzip) and &ndash;uncompress (gunzip)</li>
<li><code>x</code> is for &ndash;extract</li>
<li><code>t</code> is for &ndash;list, list the contents of an archive</li>
<li><code>r</code> is for &ndash;append, add more files to an existing archive</li>
<li><code>u</code> is for &ndash;update</li>
<li><code>-p</code> restore permissions (can only be ysed with <code>x</code>)</li>
<li><code>-P</code> preserve pathnames</li>
<li><code>-k</code> Keep (don&rsquo;t overwrite) existing files</li>
</ul>

<h2 id="example-tar-commands">Example <code>tar</code> commands:</h2>

<p>compress a dir:</p>

<pre><code class="language-bash">tar -cvf archive.tar dir-to-archive
</code></pre>

<p>compress multiple files</p>

<pre><code class="language-bash">tar -cvf archive.tar file1 file2 file3
</code></pre>

<p>compress multiple files and dirs</p>

<pre><code class="language-bash">tar -cvf archive.tar dir1 dir2 file2 file3
</code></pre>

<h2 id="compresses-tar-archives">Compresses tar archives</h2>

<p>You can compress on the fly with the <code>z</code> flag</p>

<pre><code class="language-bash">tar -czvf archive.tar.gz dir-to-archive
</code></pre>

<p>You can also use <code>gzip</code> on a tarball to compress it.</p>

<pre><code class="language-bash">gzip archive.tar
</code></pre>

<h2 id="extract-tarballs">Extract tarballs</h2>

<p>Use the <code>x</code> flag instead of <code>c</code></p>

<p>Extract all files from archive.tar.</p>

<pre><code class="language-bash">tar -xf archive.tar
</code></pre>

<p>Extract a compressed tarball</p>

<pre><code class="language-bash">tar -xzvf archive.tar.gz 
</code></pre>

<h3 id="extract-tarballs-while-restoring-permissions">Extract tarballs while restoring permissions</h3>

<p>Use the <code>-p</code> flag. It&rsquo;s to</p>

<blockquote>
<p>Restore permissions (including ACLs, owner, file flags)</p>
</blockquote>

<h2 id="list-the-contents-of-a-tarball-without-extracting-it">List the contents of a tarball without extracting it</h2>

<p>Use the <code>t</code> or <code>--list</code> flag</p>

<pre><code class="language-bash">tar -tzvf archive.tar.gz 
</code></pre>

<p>Handy when you wanna know what&rsquo;s in a tarball, or to see if it&rsquo;ll extract in the current dir or in it&rsquo;s own subdir. Sometimes, you get a <em>tar bomb</em> when a tarball starts extracting all the files in your current dir instead of making its own folder.. Potentially clobbering files in your current dir, like README or something, that you might already have in the folder you are working in.</p>

<h2 id="getting-a-single-file-out-of-a-tarball">Getting a single file out of a tarball</h2>

<h2 id="add-more-files-to-a-previously-created-archive">Add more files to a previously created archive</h2>

<p>Use the <code>r</code> flag</p>

<h2 id="update-the-archive-with-new-files">Update the archive with new files</h2>

<p>Use the <code>u</code> flag. It updates the archive with new files, it also updates the existing files to their newer versions.
&gt; only append files newer than copy in archive</p>

<h2 id="read-compressed-files">Read compressed files</h2>

<p><code>cat</code> in a compressed file is <code>zcat</code>. Use <code>zcat</code> to read files in an archive..</p>

<h2 id="notes">Notes:</h2>

<ul>
<li><code>f</code> should be the last flag because it takes an option</li>
<li>it makes more sense to start flags with <code>c</code>, <code>x</code> and <code>t</code> so it&rsquo;s clear right away if you are creating, extracting or listing..</li>
</ul>

<hr />

<ul>
<li><a href="https://www.youtube.com/watch?v=CUdwDEKlDrw" target="_blank">YouTube: CLImagic: Linux tar command tutorial</a></li>
<li><a href="https://www.youtube.com/watch?v=yR0r_3svzUU" target="_blank">YouTube: Nixie Pixel: Linux Commands 101 : Tar / GZ File Compression &amp; Archive</a></li>
</ul>

</div>








<footer id="footer">
<hr>
  <section>
    Please note that this site and the posts on it are, and will always be, a work in progress. If i waited for perfection, i’d never get anything done.
  </section>
  <span class="copyright"> Copyright &copy; 2014 - 2015 Aamnah. All rights reserved.</span>
</footer>

</div>

<script src='/prism/prism.js'></script>
</body>
</html>