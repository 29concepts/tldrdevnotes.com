<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no minimum-scale=1'>
  <title>TLDR Dev Notes</title>
  <link rel='stylesheet' href='localhost/hugo-tldr/css/main.css'> 
  <link rel="stylesheet" href="localhost/hugo-tldr/prism/prism.css">
</head>
<body>

  
<header id="header">
  <div id="logo">
    <h1>TLDR Dev Notes</h1>
  </div>

  <nav id="main-nav">
    
      
        <a href="localhost/hugo-tldr/">Home</a>
      
        <a href="localhost/hugo-tldr/about/">About</a>
      
        <a href="localhost/hugo-tldr/contact/">Contact</a>
      
        <a href="localhost/hugo-tldr/quotes/">Quotes</a>
      
        <a href="localhost/hugo-tldr/resources/">Resources</a>
      
        <a href="localhost/hugo-tldr/progress/">What i did</a>
      
    
  </nav>

</header>


  
  <div id="sidebar">
  <h6>Sections</h6>
  
  <ul id="list-sections">
    
      <li><a href="localhost/hugo-tldr/api/">
        
        APIs
        </a></li>
    
      <li><a href="localhost/hugo-tldr/aws/">
        
        Amazon Web Services (AWS)
        </a></li>
    
      <li><a href="localhost/hugo-tldr/bash-scripting/">
        
        Bash Scripting
        </a></li>
    
      <li><a href="localhost/hugo-tldr/css-sass/">
        
        CSS &amp; Sass
        </a></li>
    
      <li><a href="localhost/hugo-tldr/cheatsheets/">
        
        Cheatsheets
        </a></li>
    
      <li><a href="localhost/hugo-tldr/commands/">
        
        Commands
        </a></li>
    
      <li><a href="localhost/hugo-tldr/databases/">
        
        Databases
        </a></li>
    
      <li><a href="localhost/hugo-tldr/drafts/">
        
        Drafts
        </a></li>
    
      <li><a href="localhost/hugo-tldr/git-github/">
        
        Git &amp; Github
        </a></li>
    
      <li><a href="localhost/hugo-tldr/javascript/">
        
        JavaScript
        </a></li>
    
      <li><a href="localhost/hugo-tldr/jekyll/">
        
        Jekyll
        </a></li>
    
      <li><a href="localhost/hugo-tldr/linux/">
        
        Linux
        </a></li>
    
      <li><a href="localhost/hugo-tldr/misc/">
        
        Misc
        </a></li>
    
      <li><a href="localhost/hugo-tldr/node-api/">
        
        Node-api
        </a></li>
    
      <li><a href="localhost/hugo-tldr/nodejs/">
        
        Node.js
        </a></li>
    
      <li><a href="localhost/hugo-tldr/opencart/">
        
        OpenCart
        </a></li>
    
      <li><a href="localhost/hugo-tldr/php/">
        
        PHP
        </a></li>
    
      <li><a href="localhost/hugo-tldr/programming/">
        
        Programming
        </a></li>
    
      <li><a href="localhost/hugo-tldr/python/">
        
        Python
        </a></li>
    
      <li><a href="localhost/hugo-tldr/quotes/">
        
        Quotes
        </a></li>
    
      <li><a href="localhost/hugo-tldr/raspberrypi/">
        
        Raspberry Pi
        </a></li>
    
      <li><a href="localhost/hugo-tldr/reactjs/">
        
        Reactjs
        </a></li>
    
      <li><a href="localhost/hugo-tldr/redux/">
        
        Redux
        </a></li>
    
      <li><a href="localhost/hugo-tldr/resources/">
        
        Resources
        </a></li>
    
      <li><a href="localhost/hugo-tldr/sysadmin/">
        
        System Administration
        </a></li>
    
      <li><a href="localhost/hugo-tldr/webdev/">
        
        Web Development
        </a></li>
    
      <li><a href="localhost/hugo-tldr/workflow/">
        
        Workflow
        </a></li>
    
      <li><a href="localhost/hugo-tldr/ios-swift/">
        
        iOS &amp; Swift
        </a></li>
    
        </ul>

  
  <section>
    <h6>Tags</h6>
    
      <a href="localhost/hugo-tldr/tags/amazon-rds">amazon-rds</a>, 
    
      <a href="localhost/hugo-tldr/tags/amazon-s3">amazon-s3</a>, 
    
      <a href="localhost/hugo-tldr/tags/api">api</a>, 
    
      <a href="localhost/hugo-tldr/tags/array-methods">array-methods</a>, 
    
      <a href="localhost/hugo-tldr/tags/aws">aws</a>, 
    
      <a href="localhost/hugo-tldr/tags/babel">babel</a>, 
    
      <a href="localhost/hugo-tldr/tags/backups">backups</a>, 
    
      <a href="localhost/hugo-tldr/tags/bash">bash</a>, 
    
      <a href="localhost/hugo-tldr/tags/basics">basics</a>, 
    
      <a href="localhost/hugo-tldr/tags/bluetooth">bluetooth</a>, 
    
      <a href="localhost/hugo-tldr/tags/cheatsheet">cheatsheet</a>, 
    
      <a href="localhost/hugo-tldr/tags/cli">cli</a>, 
    
      <a href="localhost/hugo-tldr/tags/commands">commands</a>, 
    
      <a href="localhost/hugo-tldr/tags/compass">compass</a>, 
    
      <a href="localhost/hugo-tldr/tags/concepts">concepts</a>, 
    
      <a href="localhost/hugo-tldr/tags/coreblueooth">coreblueooth</a>, 
    
      <a href="localhost/hugo-tldr/tags/crontab">crontab</a>, 
    
      <a href="localhost/hugo-tldr/tags/css">css</a>, 
    
      <a href="localhost/hugo-tldr/tags/database">database</a>, 
    
      <a href="localhost/hugo-tldr/tags/databases">databases</a>, 
    
      <a href="localhost/hugo-tldr/tags/date">date</a>, 
    
      <a href="localhost/hugo-tldr/tags/debian">debian</a>, 
    
      <a href="localhost/hugo-tldr/tags/editor">editor</a>, 
    
      <a href="localhost/hugo-tldr/tags/education">education</a>, 
    
      <a href="localhost/hugo-tldr/tags/es2015">es2015</a>, 
    
      <a href="localhost/hugo-tldr/tags/firebase">firebase</a>, 
    
      <a href="localhost/hugo-tldr/tags/format">format</a>, 
    
      <a href="localhost/hugo-tldr/tags/free">free</a>, 
    
      <a href="localhost/hugo-tldr/tags/fundamentals">fundamentals</a>, 
    
      <a href="localhost/hugo-tldr/tags/getting-started">getting-started</a>, 
    
      <a href="localhost/hugo-tldr/tags/git">git</a>, 
    
      <a href="localhost/hugo-tldr/tags/github-pages">github-pages</a>, 
    
      <a href="localhost/hugo-tldr/tags/guides">guides</a>, 
    
      <a href="localhost/hugo-tldr/tags/hacking">hacking</a>, 
    
      <a href="localhost/hugo-tldr/tags/hosting">hosting</a>, 
    
      <a href="localhost/hugo-tldr/tags/how-to">how-to</a>, 
    
      <a href="localhost/hugo-tldr/tags/hugo">hugo</a>, 
    
      <a href="localhost/hugo-tldr/tags/ios">ios</a>, 
    
      <a href="localhost/hugo-tldr/tags/javascript">javascript</a>, 
    
      <a href="localhost/hugo-tldr/tags/jekyll">jekyll</a>, 
    
      <a href="localhost/hugo-tldr/tags/js">js</a>, 
    
      <a href="localhost/hugo-tldr/tags/keychain">keychain</a>, 
    
      <a href="localhost/hugo-tldr/tags/lamp">lamp</a>, 
    
      <a href="localhost/hugo-tldr/tags/lfs">lfs</a>, 
    
      <a href="localhost/hugo-tldr/tags/linux">linux</a>, 
    
      <a href="localhost/hugo-tldr/tags/macos">macos</a>, 
    
      <a href="localhost/hugo-tldr/tags/markdown">markdown</a>, 
    
      <a href="localhost/hugo-tldr/tags/media-queries">media-queries</a>, 
    
      <a href="localhost/hugo-tldr/tags/mongodb">mongodb</a>, 
    
      <a href="localhost/hugo-tldr/tags/mysql">mysql</a>, 
    
      <a href="localhost/hugo-tldr/tags/nagios">nagios</a>, 
    
      <a href="localhost/hugo-tldr/tags/node">node</a>, 
    
      <a href="localhost/hugo-tldr/tags/nodejs">nodejs</a>, 
    
      <a href="localhost/hugo-tldr/tags/npm">npm</a>, 
    
      <a href="localhost/hugo-tldr/tags/opencart">opencart</a>, 
    
      <a href="localhost/hugo-tldr/tags/phpmyadmin">phpmyadmin</a>, 
    
      <a href="localhost/hugo-tldr/tags/programming">programming</a>, 
    
      <a href="localhost/hugo-tldr/tags/python">python</a>, 
    
      <a href="localhost/hugo-tldr/tags/raspberry-pi">raspberry-pi</a>, 
    
      <a href="localhost/hugo-tldr/tags/react">react</a>, 
    
      <a href="localhost/hugo-tldr/tags/react-router">react-router</a>, 
    
      <a href="localhost/hugo-tldr/tags/reactjs">reactjs</a>, 
    
      <a href="localhost/hugo-tldr/tags/redux">redux</a>, 
    
      <a href="localhost/hugo-tldr/tags/s3">s3</a>, 
    
      <a href="localhost/hugo-tldr/tags/sass">sass</a>, 
    
      <a href="localhost/hugo-tldr/tags/script">script</a>, 
    
      <a href="localhost/hugo-tldr/tags/scripts">scripts</a>, 
    
      <a href="localhost/hugo-tldr/tags/snippets">snippets</a>, 
    
      <a href="localhost/hugo-tldr/tags/sql">sql</a>, 
    
      <a href="localhost/hugo-tldr/tags/ssh">ssh</a>, 
    
      <a href="localhost/hugo-tldr/tags/steganography">steganography</a>, 
    
      <a href="localhost/hugo-tldr/tags/sublime-text">sublime-text</a>, 
    
      <a href="localhost/hugo-tldr/tags/sync">sync</a>, 
    
      <a href="localhost/hugo-tldr/tags/sysadmin">sysadmin</a>, 
    
      <a href="localhost/hugo-tldr/tags/system-management">system-management</a>, 
    
      <a href="localhost/hugo-tldr/tags/table">table</a>, 
    
      <a href="localhost/hugo-tldr/tags/terminal">terminal</a>, 
    
      <a href="localhost/hugo-tldr/tags/ubuntu">ubuntu</a>, 
    
      <a href="localhost/hugo-tldr/tags/wifi">wifi</a>, 
    
      <a href="localhost/hugo-tldr/tags/wordpress">wordpress</a>, 
    
      <a href="localhost/hugo-tldr/tags/workflow">workflow</a>, 
    
  </section>

  <section>
    <h6>Most Used Tags</h6>
    
      <a href="localhost/hugo-tldr/tags/linux">linux</a>,
    
      <a href="localhost/hugo-tldr/tags/es2015">es2015</a>,
    
      <a href="localhost/hugo-tldr/tags/how-to">how-to</a>,
    
      <a href="localhost/hugo-tldr/tags/array-methods">array-methods</a>,
    
      <a href="localhost/hugo-tldr/tags/bash">bash</a>,
    
      <a href="localhost/hugo-tldr/tags/commands">commands</a>,
    
      <a href="localhost/hugo-tldr/tags/cheatsheet">cheatsheet</a>,
    
      <a href="localhost/hugo-tldr/tags/concepts">concepts</a>,
    
      <a href="localhost/hugo-tldr/tags/mysql">mysql</a>,
    
      <a href="localhost/hugo-tldr/tags/free">free</a>,
    
      <a href="localhost/hugo-tldr/tags/sass">sass</a>,
    
      <a href="localhost/hugo-tldr/tags/compass">compass</a>,
    
      <a href="localhost/hugo-tldr/tags/python">python</a>,
    
      <a href="localhost/hugo-tldr/tags/backups">backups</a>,
    
      <a href="localhost/hugo-tldr/tags/editor">editor</a>,
    
      <a href="localhost/hugo-tldr/tags/opencart">opencart</a>,
    
      <a href="localhost/hugo-tldr/tags/raspberry-pi">raspberry-pi</a>,
    
      <a href="localhost/hugo-tldr/tags/basics">basics</a>,
    
      <a href="localhost/hugo-tldr/tags/database">database</a>,
    
      <a href="localhost/hugo-tldr/tags/hugo">hugo</a>,
    
  </section>


</div>


  
  <div id="main">


<h2 class="post_title">MySQL Commands</h2>


<div class="post_meta">
  
    
    
  
    
    
    
      <div class="meta_date"><strong>Last updated on:</strong> Jul 06, 2017</div>
    
  
    
    
    <div class="meta_section"><strong>Section:</strong> 
      
        <a href="localhost/hugo-tldr/cheatsheets">Cheatsheets</a>
          
    </div>


    
     
      <div class="meta_tags">
        <strong>Tags:</strong>
        
         
        
          
            <a href="localhost/hugo-tldr/tags/cheatsheet">#cheatsheet</a>
          
            <a href="localhost/hugo-tldr/tags/mysql">#mysql</a>
          
        
      </div>
    
  
  </div>



<div class="content">
    

<h2 id="connect-to-mysql">Connect to MySQL</h2>

<pre><code class="language-sql">mysql -u aamnah -p —h db.mysite.com -P 3306 db_name  
</code></pre>

<p>OR</p>

<pre><code class="language-sql">mysql --user=username --password=password --host=host --port=3306 db_name
</code></pre>

<table>
<thead>
<tr>
<th>options</th>
<th>values</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>-u</code> or <code>--user</code></td>
<td>username</td>
</tr>

<tr>
<td><code>-p</code> or <code>--password</code></td>
<td>password</td>
</tr>

<tr>
<td><code>-h</code> or <code>--host</code></td>
<td>host (default: localhost)</td>
</tr>

<tr>
<td><code>-P</code> or <code>--port</code></td>
<td>Port (default: 3306)</td>
</tr>
</tbody>
</table>

<p>Replace _db<em>name</em> with the name of the database you want to connect to.</p>

<h2 id="crud-databases">CRUD Databases</h2>

<h5 id="create-mysql-database">Create MySQL database</h5>

<pre><code class="language-sql">mysql &gt; CREATE DATABASE foo ;
</code></pre>

<h2 id="users-and-privileges">Users and Privileges</h2>

<h5 id="creating-mysql-user">Creating MySQL User</h5>

<pre><code class="language-sql">mysql&gt; CREATE USER 'username'@'host' IDENTIFIED BY 'password' ;
</code></pre>

<ul>
<li><p>Syntax for account names is &lsquo;userName&rsquo;@&lsquo;hostName&rsquo;.</p></li>

<li><p>An account name consisting only of a user name is equivalent to &lsquo;userName&rsquo;@&lsquo;%&rsquo;. For example, &lsquo;me&rsquo; is equivalent to &lsquo;me&rsquo;@&lsquo;%&rsquo;.</p></li>
</ul>

<h5 id="change-user-password">Change user password</h5>

<pre><code class="language-sql">SET PASSWORD FOR
'jeffrey'@'localhost' = PASSWORD('mypass');
</code></pre>

<p>If you are changing your own password and not of another user, you can omit the <code>FOR</code> clause</p>

<pre><code class="language-sql">SET PASSWORD = PASSWORD('mypass');
</code></pre>

<h5 id="allowing-user-to-connect">Allowing User to Connect</h5>

<pre><code class="language-sql"># grant usage on server so the user can connect  
mysql&gt; GRANT USAGE ON *.* TO 'username'@'host' ;
</code></pre>

<h5 id="granting-privileges">Granting Privileges</h5>

<pre><code class="language-sql">mysql&gt; GRANT ALL PRIVILEGES ON databasename.* TO 'username'@'host' ;
</code></pre>

<h5 id="check-if-you-can-connect-to-the-created-database-with-the-user-you-crteated">CHECK if you can connect to the created database with the user you crteated</h5>

<pre><code class="language-sql">mysql -uusername -p --host=db.mysite.com databasename 
</code></pre>

<h5 id="deleting-mysql-user">Deleting MySQL User</h5>

<pre><code class="language-sql">mysql&gt; DROP USER 'username'@'host' ;
</code></pre>

<h5 id="list-all-users">List all users</h5>

<pre><code class="language-sql">SELECT User,Host FROM mysql.user;
</code></pre>

<h5 id="view-users-and-permissions">View Users and Permissions</h5>

<pre><code class="language-sql">SELECT user, host, password, select_priv, insert_priv, shutdown_priv, grant_priv FROM mysql.user
</code></pre>

<h5 id="view-user-permissions-for-individual-databases">View User Permissions for individual Databases</h5>

<pre><code class="language-sql">SELECT user, host, db, select_priv, insert_priv, grant_priv FROM mysql.db
</code></pre>

<h2 id="backups">Backups</h2>

<h5 id="backup-all-databases-in-one-file-eventually-add-the-option-add-locks">backup all databases in one file (eventually add the option &ndash;add-locks):</h5>

<pre><code class="language-sql">mysqldump -u username -p -–all-databases &gt; file.sql
</code></pre>

<h5 id="backup-all-databases-in-one-gzipped-file">backup all databases in one gzipped file:</h5>

<pre><code class="language-sql">mysqldump -u username -p -–all-databases | gzip &gt; file.sql.gz
</code></pre>

<h5 id="backup-selected-databases">backup selected databases</h5>

<pre><code class="language-sql">mysqldump -u username -p -–databases db1 db2 db3 | gzip &gt; dbs.sql.gz
</code></pre>

<h2 id="restores">Restores</h2>

<h5 id="restore-all-databases">restore all databases:</h5>

<pre><code class="language-sql">mysql -u username -p &lt; file.sql 
</code></pre>

<h5 id="restore-compressed-backup-file">restore compressed backup file</h5>

<pre><code class="language-sql">gunzip &lt; [backupfile.sql.gz] | mysql -u [uname] -p[pass] [dbname]
</code></pre>

<h5 id="import-sql-database">Import SQL database</h5>

<pre><code class="language-sql">mysql -u username -p password databasename &lt; filename.sql
</code></pre>

<h5 id="sample-command-for-creating-a-backup-and-restoring-at-remote-server-in-one-command">Sample Command for creating a backup and restoring at remote server in one command:</h5>

<pre><code class="language-sql">mysqldump --user=root --password=password --host=mysql.mydomain.com db_1 | mysql --host=db.mysite.com --user=username --password=password db_1
</code></pre>

<h2 id="troubleshooting">Troubleshooting</h2>

<ul>
<li><p>If not connecting, check if the port is open on the server you are connecting from. Default MySQL port is 3306. On KH server it couldn’t connect because the port was closed. Also, see if the allow remote login option is enabled/disabled.</p></li>

<li><p>If the connection is not getting through the error would be ‘could not connect’.</p></li>

<li><p>If login is incorrect the error would be ‘access denied’. <em>mysql_connect(): Access denied for user</em>.</p></li>

<li><p>The user you are connecting with needs to be created at RDS. It doesn’t matter if the server you are connecting from has it or not.</p></li>
</ul>

<p><strong>Opening Ports</strong>:
Ports should be opened in the firewall configuration. The default port for MySQL is 3306.</p>

<p>This can be accessed in WHM &gt;&gt; Plugins » ConfigServer Security &amp; Firewall &gt;&gt; Firewall configuration &gt;&gt; Port settings.</p>

<h2 id="links">Links</h2>

<ul>
<li><a href="https://dev.mysql.com/doc/refman/5.1/en/account-names.html" target="_blank">MySQL Docs: Specifying Account Names</a></li>
<li><a href="http://webcheatsheet.com/sql/mysql_backup_restore.php" target="_blank">How to Back Up and Restore a MySQL Database</a></li>
</ul>

</div>






  <div class="related">
    <h6>Related</h6>
      <ul>
        
          <li><a href="localhost/hugo-tldr/cheatsheets/cheatsheet-amazon-rds-commands-mysql/">Amazon RDS &#43; MySQL</a></li>
        
          <li><a href="localhost/hugo-tldr/databases/sqlite_basics/">SQLite Basics</a></li>
        
          <li><a href="localhost/hugo-tldr/databases/opencart_how-to_delete_multi-store_and_move_everything_to_the_default_store/">OpenCart: Delete Multi-Store and Move Everything to the Default Store</a></li>
        
          <li><a href="localhost/hugo-tldr/databases/querying-selecting-showing-data-from-mysql-database-tips/">Tips for Querying a MySQL Database</a></li>
        
          <li><a href="localhost/hugo-tldr/databases/database-foundations/">Database Foundations</a></li>
        
      </ul>
  </div>



<footer id="footer">
<hr>
  <section>
    Please note that this site and the posts on it are, and will always be, a work in progress. If i waited for perfection, i’d never get anything done.
  </section>
  <span class="copyright"> Copyright &copy; 2014 - 2015 Aamnah. All rights reserved.</span>
</footer>

</div>

<script src='localhost/hugo-tldr/prism/prism.js'></script>
</body>
</html>