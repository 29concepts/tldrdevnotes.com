<p>Run <code>ssh-agent</code> if it&#39;s not already running</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">eval</span> <span class="s2">"</span><span class="k">$(</span>ssh-agent -s<span class="k">)</span><span class="s2">"</span>
</code></pre></div>
<p>Add SSH key to ssh-agent</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-add -K ~/.ssh/id_rsa
</code></pre></div>
<p>where <code>id_rsa</code> is the actual filename of the key you&#39;re adding. This should do it for OSX before Sierra.</p>

<h3>MacOS Sierra</h3>

<p>Create an SSH config file</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">nano ~/.ssh/config
</code></pre></div>
<p>Add the following to it</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">Host <span class="k">*</span>
UseKeychain yes
AddKeysToAgent yes
IdentityFile ~/.ssh/id_rsa
</code></pre></div>
<ul>
<li><code>UseKeychain yes</code> tells SSH to look in your OSX keychain for the key passphrase.</li>
<li><code>IdentityFile</code> specifies the key you want to load. If you want to load multiple keys just add more <code>IdentityFile</code> entries, one per line.</li>
</ul>

<p>Now add your key(s)</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">ssh-add -K ~/.ssh/id_rsa
</code></pre></div>
<p>For multiple keys, the config file will look like this:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">Host <span class="k">*</span>
UseKeychain yes
AddKeysToAgent yes
IdentityFile ~/.ssh/id_rsa
IdentityFile ~/.ssh/foo
IdentityFile ~/.ssh/bar
</code></pre></div>
<h2>Links</h2>

<ul>
<li><a href="http://apple.stackexchange.com/questions/48502/how-can-i-permanently-add-my-ssh-private-key-to-keychain-so-it-is-automatically">StackOverflow: How can I permanently add my SSH private key to Keychain so it is automatically available to ssh?</a></li>
<li><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">Github: Generating a new SSH key and adding it to the ssh-agent</a></li>
</ul>
