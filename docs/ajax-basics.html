<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      AJAX Basics
    
  </title>
  
  <meta name="description" content="  AJAX Concepts  Programming AJAX  jQuery and AJAX  AJAX and APIs">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/prism.css">
  <link rel="canonical" href="http://tldrdevnotes.com/ajax-basics">
  <link rel="alternate" type="application/rss+xml" title="TLDR Dev Notes" href="http://tldrdevnotes.com/feed.xml">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
</head>

  <body>
    <header class="Site-header">

  <div class="wrapper">

    <div>
      <a class="Site-title" href="/">TLDR Dev Notes</a>
      <small>Aamnah's developer notes</small>
    </div>

    <nav class="Site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
          <a class='page-link' href='/'>Home</a>
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/progress/">What i did</a>
          
        
          
          <a class="page-link" href="/quotes/">Quotes</a>
          
        
          
          <a class="page-link" href="/resource-list">Resources</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <article class="Post" itemscope="" itemtype="http://schema.org/BlogPosting">

  <header class="Post-header">
    <h1 class="Post-title" itemprop="name headline">AJAX Basics</h1>
    <p class="Post-meta">
      
      
      <span class="ctime">Created
        <time datetime="2014-09-03T00:00:00+05:00" itemprop="datePublished">
          Sep 3, 2014
        </time>
      </span>
      

      

      <!---->
      <span style="float:right"><a href="https://github.com/aamnah/tldrdevnotes.com/blob/master/_api/ajax basics.md" target="_blank">Edit this page on Github</a>
    &lt;/p&gt;
    
      <ul class="tags">
      
      </ul>
    
  &lt;/header&gt;

  <div class="Post-content" itemprop="articleBody">
    <ol>
  <li>AJAX Concepts</li>
  <li>Programming AJAX</li>
  <li>jQuery and AJAX</li>
  <li>AJAX and APIs</li>
</ol>

<h2 id="ajax-concepts">AJAX Concepts</h2>

<h2 id="intro">Intro</h2>
<p>AJAX = <strong>A</strong>synchronous <strong>J</strong>avaScript <strong>A</strong>nd <strong>X</strong>ML</p>

<p>It lets you request info from web server, post data to a web server and update content on a web page with loading a new web page. It works with pretty much all major server side languages (PHP, JavaScript, Ruby, Python etc.).</p>

<p>The whole process of sending data back and forth involves the client (browser) sending a <strong>request</strong> and the server sending back a <strong>response</strong>.</p>

<p><strong>JavaScript</strong> is the language that makes all the AJAX stuff happen. You use JavaScript to send a request, JavaScript to process the response that comes back and again JavaScript to update your website based on that response.</p>

<p><strong>Asynchronous</strong> refers to how the request is sent to the server. Asynchorous means that you don’t stop doing everything when you send a request and wait for a response. If the server ever did send a response that is, sometimes they don’t. Instead you keep mousing around the web page, your JavaScript program will keep running and only do something when the response comes back. You can send multiple AJAX requests without waiting for a response for every individual request.</p>

<p>X stands for <strong>XML</strong>. Originally, XML is the format the response should be sent in, but it is not the only format you can receive data in. As a matter of fact, it is not even the most common or preferred format any longer.</p>

<h2 id="how-ajax-works">How AJAX works</h2>
<p>AJAX has been around a long time. Microsoft first introduced with IE5 in 1999. AJAX isn’t really its official name. Technically it’s called an <strong>XMLHttpRequest object</strong> or shortened to just <strong>XHR object</strong>.</p>

<p>Put simply, AJAX is the process of sending a request to a web server, receive a response back and then do something with that response.</p>

<p>What you send to the web server can be a simple request for a web page, a text file, a search sent to a database or a complete form full of information.</p>

<p>There are four major steps in</p>

<ol>
  <li>Create an XMLHTTP Request object</li>
  <li>Define a callback function</li>
  <li>Open a request</li>
  <li>Send the request</li>
</ol>

<p>AJAX requests only work through a web server. You can not just locally preview a file on your computer and expect your AJAX to work.</p>

<h3 id="a-simple-ajax-example">A Simple AJAX Example</h3>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;AJAX Example&lt;/title&gt;
    &lt;script&gt;
    // STEP 1. Create an XMLHttpRequest object
    // the name of the variable could be anything you want
    // in our case we are calling it 'xhr'
    var xhr = new XMLHttpRequest();

    // STEP 2. Define a callback function
    xhr.onreadystatechange = function () {
      // check for readystate, 4 means done
      // if readyState is equal to 4 then
      if (xhr.readyState === 4) {
        // get &lt;div id="ajax"&gt;&lt;/div&gt; from the html page 
        // and place the data we receive (responseText) inside it
        document.getElementById('ajax').innerHTML = xhr.responseText;
      }
    };

    // STEP 3. Open a request
    // method = get, url = sidebar.html
    xhr.open('GET', 'sidebar.html');

    // STEP 4. Send the request
    // put the send request in a function called 'sendAJAX'
    // to use with the button #load
    function sendAJAX() {
      xhr.send();
      // make the button disappear after it's clicked
      document.getElementById('load').style.display = "none";
    }
    &lt;/script&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h1&gt;Bring on the AJAX!&lt;/h1&gt;
    &lt;button id="load" onclick="sendAJAX()"&gt;Bring it!&lt;/button&gt;
    &lt;div id="ajax"&gt;&lt;/div&gt;
  &lt;/body&gt;

&lt;/html&gt;
</code></pre>

<h5 id="xmlhttprequest">XMLHttpRequest</h5>
<p>The <code>new XMLHttpRequest();</code> tells the browser to get ready to work with AJAX. You should create a new XMLHttpRequest object for every AJAX request that you want to send.</p>

<h5 id="callback-functiom">Callback Functiom</h5>
<p>The callback function is the heart of your AJAX request. All the fun things you intednd on doing with AJAX, you define them in the callback function.</p>

<p>If you send multiple AJAX requests, you’ll never know which request will be handled first. You can never tell in which order your AJAX callback will run.</p>

<p>To trigger the callback we use a special browser event. If you have programmed in javascript before, you should know all about events. An event is something that happens in the web bowser, an action that the user takes like clicking a button or  submitting a form. There are eventa for mouse clicking, key pressing, scrolling and even closing a window. AJAX has its own set of events.</p>

<p><code>onreadystatechange</code> is trigerred whenever there is a chnage in the AJAX request, like opeing a new request, sending it or receiving a response. We are creating our callback to respond to that request. The XMLHttpRequest object keeps track of the state using a special property called <code>readyState</code>. This property contains a number to represent the current state of the request. When that number is <code>4</code>, it means that the request is done and the server has sent back a response.</p>

<h4 id="get-vs-post-http-methods">GET vs. POST (HTTP Methods)</h4>
<p><strong>GET</strong> is for requesting resources (web page, image, css files etc.) Use GET when you want to “get” something from the server. With the GET method, all of the data is sent in the URL (query string).</p>

<p>The GET method is not good for sensitive information like SSNs or passowrd etc. It’ll show up in the browser history and show up in the server’s log files. Also, there is only so much information you can out in a URL. For example, IE can only handle URLs that are a max of 2080 characters long. When you need to send lots of information, like a blog post, the GET method isn’t good.</p>

<p><strong>POST</strong> is for sending data (form data). Use POST when sending data that will store, delete or update information from a database.</p>

<p>POST method sends data separate from the URL in what is called the <em>body</em> of the request.</p>

<h4 id="query-strings">Query Strings</h4>

<h4 id="ajax-response-formats-xml-and-json">AJAX Response Formats (XML and JSON)</h4>
<p><strong>XML</strong></p>

<pre><code class="language-xml">&lt;music&gt;
  &lt;song&gt;
    &lt;title&gt;Le Vie En Rose&lt;/title&gt;
    &lt;singer&gt;Edith Piaf&lt;/singer&gt;
    &lt;language&gt;French&lt;/language&gt;
    &lt;year&gt;1947&lt;/year&gt;
  &lt;/song&gt;
&lt;/music&gt;
</code></pre>

<p>Using XML with JavaScript is kinda cumbersome. You have to analyze/parse the XML then go through each of its <em>nodes</em> to extract data from the tags. JSON on the other hand is easier to work with.</p>

<p><strong>JSON</strong></p>

<pre><code class="language-json">{
  "music" : {
    "song" : {
      "title": "Le Vie En Rose",
      "singer": "Edith Piaf",
      "language": "French",
      "year": "1947"
    } 
  }  
}
</code></pre>

<h3 id="ajax-limitations">AJAX Limitations</h3>
<ul>
  <li>Same origin policy
    <ul>
      <li>Web proxy</li>
      <li>JSONP (JSON with Padding)</li>
      <li>CORS (Cross-Origin Resource Sharing)</li>
    </ul>
  </li>
</ul>

<h4 id="json-objects-vs-javascript-objects">JSON Objects vs. JavaScript Objects</h4>
<p>JSON formatted data has extra requirements. In regular JavaScript objects, keys don’t have to be quoted. However, valid JSON not only requires quotes around the property name, it requires <strong>double quotes</strong> around both keys and values. Single quotes won’t work. Strings also require double quotes.</p>

<h4 id="parsing-json">Parsing JSON</h4>
<p>We use the <code>JSON.parse()</code> function.</p>

<pre><code class="language-javascript">var employees = JSON.parse(xhr.responseText);
</code></pre>

<h4 id="looping-through-data">Looping through data</h4>

<p>JavaScript:</p>

<pre><code class="language-javascript">for (i = 0, i &lt; employees.length, i++) {
  // do seomthing
}
</code></pre>

<p><code>i++</code> is the same as <code>i += 1</code>. This loop will run once for each item in the array. Start with the first item (index of zero.)</p>

<p>jQuery:</p>

<pre><code class="language-javascript">$.each()
</code></pre>

  </div>

&lt;/article&gt;
</span></p></header></article>

      </div>
    </div>
    <footer class="Site-footer">

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li><h2 class="footer-heading">TLDR Dev Notes</h2></li>
          <li><a href="mailto:hello@aamnah.com">hello@aamnah.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/Aamnah"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">Aamnah</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/AamnahAkram"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">AamnahAkram</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Please note that this site and the posts on it are, and will always be, a work in progress. If i waited for perfection, i’d never get anything done.
</p>
      </div>
    </div>

  </div>

</footer>
<script src="/js/prism.js"></script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51214502-1', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>
