<ul>
<li>Generate a key pair locally</li>
<li>Give the public key to the remote server</li>
<li>Keep the private key yourself</li>
</ul>

<h2>Generate key</h2>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-keygen -t rsa
</code></pre></div>
<h2>Copy .pub file to remote</h2>
<div class="highlight"><pre><code class="language-" data-lang="">scp id_rsa.pub user@remoteserver:location
</code></pre></div>
<p>On linux you can do </p>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-copy-id user@123.456.789.123
</code></pre></div>
<h2>Permissions</h2>

<p>The remote server doesn&#39;t like the authorizated<em>keys file having too many permissions. For better security, change the authorizated</em>keys file to <code>644</code> and the <em>ssh</em> folder to <code>755</code>. The permissions on <code>.ssh</code> can not be any higher than 755. </p>
<div class="highlight"><pre><code class="language-" data-lang="">chmod 644 ~/.ssh/authorized_keys
chmod 755 ~/.ssh
</code></pre></div>
<p>You might even have to change permissions for the <code>/home</code> directory</p>
<div class="highlight"><pre><code class="language-" data-lang="">chmod go-w ~/
</code></pre></div>
<h2>sshd_config</h2>

<p>The config file for the ssh daemon is at:</p>
<div class="highlight"><pre><code class="language-" data-lang="">/etc/ssh/sshd_config
</code></pre></div>
<p>You can also use the <code>find</code> command to find the file location:</p>
<div class="highlight"><pre><code class="language-" data-lang="">find / -name sshd_config
</code></pre></div>
<p>Make a copy of the config file if you are afraid of messing it up</p>
<div class="highlight"><pre><code class="language-" data-lang="">cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak
</code></pre></div>
<h2>Restart SSH</h2>
<div class="highlight"><pre><code class="language-" data-lang="">service sshd restart
</code></pre></div>
<p>If you don&#39;t know what the service name for ssh is, you can list all of the services to find out:</p>
<div class="highlight"><pre><code class="language-" data-lang="">service --status-all
</code></pre></div>
<h2>aliases</h2>

<p>To avoid having to type the ssh command everytime, you can create an alias</p>
<div class="highlight"><pre><code class="language-" data-lang="">alias se3='ssh root@remoteServer'
</code></pre></div>
<p>The alias goes in you <code>~/.bash_profile</code> file.</p>

<h2>Start the <code>ssh-agent</code> and load your keys</h2>

<p>See if ssh-agent is running:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ps -e | grep [s]sh-agent 
</code></pre></div>
<p>Run ssh-agent:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-agent /bin/bash
</code></pre></div>
<p>OR</p>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-agent bash
</code></pre></div>
<p>Load ssh key:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-add ~/.ssh/id_rsa 
</code></pre></div>
<p>List loaded ssh keys:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ssh-add -l
</code></pre></div>
<h2>Copy key to clipboard</h2>

<p>Copy your key to your clipboard with: </p>
<div class="highlight"><pre><code class="language-" data-lang="">cat ~/.ssh/id_rsa.pub | pbcopy
</code></pre></div>
<h2>Troubleshhoting</h2>

<p>Simple as that. Though troubleshooting might be needed.</p>

<ul>
<li>make sure the .pub key has been copied to the <code>authorized_keys</code> file, on remote server, in the <code>~/.ssh</code> folder. If it doesn&#39;t exist, create one.</li>
<li>make sure that the path you copied to is the path specifies in the ssh config file. The ssh config file is at: `sshd_config</li>
<li>if the error doesn&#39;t make sense try ssh with verbose mode <code>-v</code>.</li>
<li>make sure you have no extra white space at the end when you copy the key, because that can throw it in a loop.</li>
</ul>

<p><img src="resources/546FF4444B868B75D6ECAE93C373AD92.png" alt="Screenshot 2015-11-15 23.45.12.png"></p>

<p><img src="resources/E362BDAD8F8B586E6631A7382DB2DBC4.png" alt="Screenshot 2015-11-15 23.46.48.png"></p>

<h2>Resources</h2>

<p><a href="https://www.youtube.com/watch?v=-J9wUW5NhOQ">YouTube: Setting Up an SSH Key</a></p>
