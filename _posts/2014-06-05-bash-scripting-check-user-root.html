---
layout: post
title: 'Bash Scripting: How to check if a user is root'
date: 2014-06-05 04:02:25.000000000 +05:00
type: post
published: true
status: publish
categories:
- '*nix'
- Bash
tags: []
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '1'
  _wpas_done_all: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"9502162be51d2c8f8ea0fa41a0c7981a";a:2:{s:7:"expires";i:1486565693;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:290;}i:1;a:1:{s:2:"id";i:345;}i:2;a:1:{s:2:"id";i:361;}}}}
author:
  login: aamnah
  email: aamnah@aamnah.com
  display_name: aamnah
  first_name: ''
  last_name: ''
---
<p>The following script will use the <code>whoami</code> command to see what user you are. If you are root, it'll continue running the script. If not, it'll exist the script telling you that you are not root and need to use sudo.</p>
<pre class="lang:sh decode:true ">#!/bin/bash

owner=$(who am i | awk '{print $1}')
 
if [ "$(whoami)" != 'root' ]; then
    echo "You don't have permission to run $0 as non-root user. Use sudo"
        exit 1;
fi</pre>
